{"ast":null,"code":"import _classCallCheck from \"/home/home/node-js-getting-started/nodeJSONdb/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/home/node-js-getting-started/nodeJSONdb/web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/home/node-js-getting-started/nodeJSONdb/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/home/node-js-getting-started/nodeJSONdb/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/home/node-js-getting-started/nodeJSONdb/web/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/home/node-js-getting-started/nodeJSONdb/web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/home/node-js-getting-started/nodeJSONdb/web/src/App.js\";\nimport React, { Component } from 'react';\nimport Table from './table';\nimport axios from 'axios';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.loadData = function () {\n      return axios.get('/persons').then(function (response) {\n        _this.setState({\n          data: response.data\n        });\n\n        console.log(111111111111111);\n      });\n    };\n\n    _this.deleteBtn = function (id) {\n      axios.delete(\"/persons/\".concat(id)).then(function (response) {\n        _this.setState({\n          data: response.data\n        });\n      });\n    };\n\n    _this.addBtn = function (name, surname, company) {\n      axios.post('/persons', {\n        name: name,\n        surname: surname,\n        company: company\n      }).then(function (response) {\n        _this.setState({\n          data: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.editBtn = function (id, name, surname, company) {\n      axios.put(\"/persons/\".concat(id), {\n        name: name,\n        surname: surname,\n        company: company\n      }).then(function (response) {\n        _this.setState({\n          data: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      data: []\n    };\n    _this.connecToServer = _this.connecToServer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"connecToServer\",\n    value: function connecToServer() {\n      fetch('/');\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.connecToServer();\n      this.loadData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Table, {\n        data: this.state.data,\n        deleteHandler: this.deleteBtn,\n        addHandler: this.addBtn,\n        editHandler: this.editBtn,\n        loadHandler: this.loadData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/home/node-js-getting-started/nodeJSONdb/web/src/App.js"],"names":["React","Component","Table","axios","App","props","loadData","get","then","response","setState","data","console","log","deleteBtn","id","delete","addBtn","name","surname","company","post","catch","error","editBtn","put","state","connecToServer","bind","fetch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Table from './table';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\t\tthis.state = { data: [] };\n\t\tthis.connecToServer = this.connecToServer.bind(this)\n\t}\n\n\tconnecToServer() {\n    fetch('/');\n  }\n\n  componentDidMount() {\n\t\tthis.connecToServer();\n    this.loadData();\n  }\n\n  loadData = () =>\n    axios.get('/persons').then(response => {\n      this.setState({\n        data: response.data,\n      });\n      console.log(111111111111111)\n    });\n\n  deleteBtn = id => {\n    axios.delete(`/persons/${id}`).then(response => {\n      this.setState({\n        data: response.data,\n      });\n    });\n  };\n\n  addBtn = (name, surname, company) => {\n    axios\n      .post('/persons', {\n        name,\n        surname,\n        company,\n      })\n      .then(response => {\n        this.setState({\n          data: response.data,\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  editBtn = (id, name, surname, company) => {\n    axios\n      .put(`/persons/${id}`, {\n        name,\n        surname,\n        company,\n      })\n      .then(response => {\n        this.setState({\n          data: response.data,\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Table\n          data={this.state.data}\n          deleteHandler={this.deleteBtn}\n          addHandler={this.addBtn}\n          editHandler={this.editBtn}\n          loadHandler={this.loadData}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}